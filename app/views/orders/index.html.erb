<div class="max-w-6xl mx-auto">
  <h1 class="text-3xl font-bold mb-8">ÎÇ¥ Ï£ºÎ¨∏</h1>

  <% if @orders.empty? %>
    <div class="text-center py-16">
      <div class="text-6xl mb-4">üì¶</div>
      <p class="text-xl text-base-content/70 mb-6">Ï£ºÎ¨∏ ÎÇ¥Ïó≠Ïù¥ ÏóÜÏäµÎãàÎã§</p>
      <%= link_to "ÏÉÅÌíà ÎëòÎü¨Î≥¥Í∏∞", products_path, class: "btn btn-primary" %>
    </div>
  <% else %>
    <div class="space-y-4">
      <% @orders.each do |order| %>
        <div class="card bg-base-100 shadow-lg hover:shadow-xl transition-shadow">
          <div class="card-body">
            <div class="flex flex-col md:flex-row md:items-center justify-between gap-4">
              <div class="flex-1">
                <div class="flex items-center gap-3 mb-3">
                  <div class="avatar placeholder">
                    <div class="bg-primary text-primary-content rounded-full w-10">
                      <span class="text-sm"><%= order.farmer.name[0] %></span>
                    </div>
                  </div>
                  <div>
                    <p class="font-bold"><%= order.farmer.name %></p>
                    <p class="text-sm text-base-content/70"><%= order.order_number %></p>
                  </div>
                </div>

                <div class="grid md:grid-cols-2 gap-2 text-sm">
                  <div>
                    <span class="text-base-content/70">Ï£ºÎ¨∏ÏùºÏãú:</span>
                    <span class="font-medium"><%= l(order.created_at, format: :short) %></span>
                  </div>
                  <div>
                    <span class="text-base-content/70">Ï£ºÎ¨∏Í∏àÏï°:</span>
                    <span class="font-bold text-primary"><%= number_to_currency(order.total_amount) %>Ïõê</span>
                  </div>
                  <div>
                    <span class="text-base-content/70">ÏÉÅÌíàÏàò:</span>
                    <span class="font-medium"><%= order.order_items.count %>Í∞ú</span>
                  </div>
                  <div>
                    <span class="text-base-content/70">Î∞∞ÏÜ°ÏßÄ:</span>
                    <span class="font-medium"><%= order.shipping_name %></span>
                  </div>
                </div>

                <div class="mt-3">
                  <p class="text-sm font-medium text-base-content/70 mb-1">Ï£ºÎ¨∏ ÏÉÅÌíà</p>
                  <div class="flex flex-wrap gap-2">
                    <% order.order_items.limit(3).each do |item| %>
                      <span class="badge badge-outline"><%= item.product.name %> (√ó<%= item.quantity %>)</span>
                    <% end %>
                    <% if order.order_items.count > 3 %>
                      <span class="badge badge-ghost">Ïô∏ <%= order.order_items.count - 3 %>Í∞ú</span>
                    <% end %>
                  </div>
                </div>
              </div>

              <div class="flex flex-col items-end gap-3 md:min-w-[160px]">
                <%= render BadgeComponent.new(status: order.status) %>

                <%= link_to "Ï£ºÎ¨∏ ÏÉÅÏÑ∏", order_path(order), class: "btn btn-primary btn-sm" %>

                <% if order.timeout_at && !order.completed? && !order.cancelled? %>
                  <p class="text-xs text-base-content/60">
                    Ïú†Ìö®Í∏∞Í∞Ñ: <%= l(order.timeout_at, format: :short) %>
                  </p>
                <% end %>
              </div>
            </div>
          </div>
        </div>
      <% end %>
    </div>

    <div class="mt-8 text-center">
      <p class="text-sm text-base-content/60">
        Ï¥ù <%= @orders.count %>Í∞úÏùò Ï£ºÎ¨∏
      </p>
    </div>
  <% end %>
</div>
